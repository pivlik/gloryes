{"version":3,"sources":["apartments/app.js"],"names":["_typeof","Symbol","iterator","t","constructor","define","e","o","a","i","n","r","s","l","d","c","u","f","h","this","$ajaxLoader","find","prototype","showAjaxLoader","show","hideAjaxLoader","hide","getOpacity","ht","data","status","gt","E","v","p","require","contexts","_","config","browser","mobile","m","extend","visualStyles","window","g","w","parent","y","b","k","j","P","x","L","A","boxApp","S","showVideoAnim","navigator","platform","I","O","C","T","F","z","V","$","N","options","flash","swf","baseUrl","paths","videojs","B","autoplay","preload","width","height","ready","on","fadeOut","U","q","D","J","location","hash","replace","R","H","X","Y","G","startPath","length","click","toggleClass","fullScreen","css","top","left","changeSize","K","mt","type","parseInt","M","Q","forEach","jt","setLocation","homePath","displayConstantly","W","colorStart","colorEnd","Z","color","rooms","tt","fillOpacity","et","toggleAnimated","text","attr","ot","floors","current","html","at","map","pointer","position","id","split","link","header","content","it","nt","rt","st","remove","tooltipFlat","tooltip","insertAfter","lt","pageX","pageY","outerHeight","dt","ct","one","speedAnimBetweenView","play","fadeIn","src","ut","each","push","ft","viewName","rotateView","videoChangePosition","pointers","elements","backText","objPath","backLink","isSmooth","image","canvasImg","setStart","animate","fill","opacity","easing","removeClass","addClass","count","path","coords","stroke","fill-opacity","cursor","available","toPage","mouseover","mouseout","unmouseover","unmouseout","unmousemove","setTimeout","origin","protocol","hostname","port","document","pathname","runRoute","unclick","mousemove","setFinish","apply","renderType","swap","vt","pt","dataLocation","serialize","indexOf","abort","getJSON","done","setEnvironment","inArray","wt","yt","clone","removeAttr","bt","kt","getLocation","error","message","mp4","loadImage","$element","after","cssanimations","animatecss","fail","element_selector","notFound","videoFly","smoothTransition","toStep","buildings","steps","hasOwnProperty","get","urlTemplate","division","view","objectId","params","num","building","startOpacity","section","floor","flat","_location_proxy"],"mappings":"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","file":"../../apartments/app.js","sourcesContent":["\"use strict\";var _typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol?\"symbol\":typeof t};define(\"apartments/app\",[\"jquery\",\"./config\",\"./templates\",\"../app/utils\",\"./helpers\",\"./eve\",\"sammy\",\"raphael\",\"scaleraphael\",\"modernizr\",\"videojs\",\"cookie\"],function(t,e,o,a,i,n,r,s,l,d,c,u){var f=t(\"body\"),h=function(t){this.$ajaxLoader=t.find(\".b-ajax-loader\")};h.prototype.showAjaxLoader=function(){this.$ajaxLoader.show()},h.prototype.hideAjaxLoader=function(){this.$ajaxLoader.hide()},h.prototype.getOpacity=function(t){return t=t||{},\"flat\"===ht.data(\"view\")?t.status?1:.5:gt()&&E||\"floor\"===ht.data(\"view\")?.3:.5};var v=new h(f),p=require.s.contexts._.config;t.browser={},t.browser.mobile=!1;var m=(t.extend({},e.visualStyles),t(window)),g=t(\"#substrate\"),w=(g.parent(),t(\".al-l-mini-filter\")),y=t(\"#back-link\"),b=t(\"#rotate\"),k=t(\"#select-options\"),j=t(\"#floors-list\"),P=t(\"#floor-number-list\"),x=t(\"#floor-number\"),L=!1,A=t(e.boxApp),_=!0,S=e.showVideoAnim||!1;\"iPhone\"===navigator.platform&&(S=!1);var I,O=null,C=null,T=null,E=(t(),0),F=[],z=1,V=0,$=1,N=!1;\"iPhone\"===navigator.platform&&(S=!1),c.options.flash.swf=p.baseUrl+p.paths.videojs+\"/video-js.swf\";var B=c(\"video\",{autoplay:!1,preload:\"auto\",width:\"100%\",height:\"100%\"});B.ready(function(){this.on(\"ended\",function(){t(\"#video\").fadeOut(180)})});var U,q=null,D=null,J=window.location.hash.replace(\"#\",\"\")||u(\"view_side\")||\"def\",R={width:0,height:0},H=.5625,X=function(){},Y=t(),G=!0;e.startPath=window.startPath||e.startPath,function(e){if(e.length){var o=t(\".al-l-nav\");e.click(function(){o.toggleClass(\"is-active\")})}}(t(\".j-al-nav\")),e.fullScreen&&(X=function(){if(q){var t=f.width(),e=f.height();e/t>H?g.css({width:e/H,height:e,top:0,left:.5*(t-e/H)}):g.css({width:t,height:t*H,top:.5*(e-t*H),left:0});var o=g.width(),a=g.height();q.changeSize(o,a,!0,!0)}},m.on(\"resize\",X));var K;y.on(\"click\",function(){mt(),v.showAjaxLoader(),I=!0,$=1,N=!0}),A.on(\"mouseenter mouseleave click\",\".al-b-pointer\",function(o){var a=t(this),i=a.data(\"href\");switch(o.type){case\"mouseleave\":case\"mouseenter\":var n=parseInt(a.data(\"id\"),10)||0;if(n<0)return;var r=\"mouseenter\"===o.type?M:Q;T.forEach(function(t){t.data(\"id\")===n&&r(t)});break;case\"click\":if(!i||!a.data(\"status\"))break;$=1,jt.setLocation(e.homePath+i)}});var M=function(t){t.data(\"on_filter\")&&!O.displayConstantly?n(\"buildings.highlightFilter_enter\",t):O.displayConstantly||n(\"raphael.event.mouseenter\",t)},Q=function(t,e){t.data(\"on_filter\")&&!O.displayConstantly?n(\"buildings.highlightFilter_leave\",t):O.displayConstantly||n(\"raphael.event.mouseleave\",t)},W=function(t){t=t||{};var o=t.colorStart||e.visualStyles.colorStart,a=t.colorEnd||e.visualStyles.colorEnd;if(\"flat\"===ht.data(\"view\")){if(!t.status)return Z(t);t.color&&(o=a=t.color)}return[o,a]},Z=function(t){var o,a;switch(t.rooms){case 0:o=\"#95bfe7\",a=\"#95bfe7\";break;case 1:o=\"#90c168\",a=\"#90c168\";break;case 2:o=\"#e2bf00\",a=\"#e2bf00\";break;case 3:o=\"#d577b8\",a=\"#b33e8e\";break;default:o=e.visualStyles.colorStart,a=e.visualStyles.colorEnd}return[o,a]},tt=function(t){return t=t||{},t.fillOpacity||e.visualStyles.fillOpacity},et=function(t,o){var a=y.parent();return void 0===t?a.toggleAnimated(!1,!1,\"fadeOutUp\"):(o=o||\"Назад\",\"alt\"===J&&(t+=\"#alt\"),y.text(o).attr(\"href\",e.homePath+t),void a.toggleAnimated(!0,\"fadeInDown\"))},ot=function(t,a){if(x.text(\"этаж \"+a),t){var i=o.floors({floors:t,current:a,homePath:e.homePath});P.html(i)}j[t?\"show\":\"hide\"]()},at=function(e){return\"object\"!==(void 0===e?\"undefined\":_typeof(e))?[]:\"object\"!==(void 0===e?\"undefined\":_typeof(e))?[]:t.map(e,function(t){var e=t.pointer;if(\"object\"!==(void 0===e?\"undefined\":_typeof(e))||\"string\"!=typeof e.position||!t.id)return null;var o=e.position.split(\",\");return{id:parseInt(t.id,10)||0,left:o[0]||0,top:o[1]||0,status:t.status,link:t.link,header:e.header,content:e.content}})},it=function(e){return t('.al-b-pointer[data-id=\"'+e.data(\"id\")+'\"]')},nt=function(t,e){t[e?\"addClass\":\"removeClass\"](\"al-b-pointer_is_hovered\")},rt=function(t,e){nt(it(t),e)},st=function(e){var a=e.data(\"tooltip\");K&&K.remove(),a&&\"\"!==a.header&&(K=t(\"flat\"==ht.data(\"view\")?o.tooltipFlat(a):o.tooltip(a)),K.insertAfter(g))},lt=function(t){if(K){var e=t.pageX,o=t.pageY-K.outerHeight()-15;K.css({left:e,top:o}).toggleAnimated(!0,\"zoomIn\")}},dt=function(){K&&K.hide()},ct=function(o,a){B.one(\"loadedmetadata\",function(){var o=e.speedAnimBetweenView;v.hideAjaxLoader(),B.play(),t(\"#video\").fadeIn(o,a)}).one(\"error\",a),B.src(o)},ut=function(e){var o=[];return t.each(e,function(t,e){e&&o.push({type:\"video/\"+t,src:e})}),o},ft=function(a,i){var n=(e.startPath,o.content),r={viewName:C.viewName||\"\",rotateView:C.videoChangePosition&&O.rotateView,pointers:at(C.elements[J]),backText:C.backText,objPath:C.backLink,floors:C.floors||[],isSmooth:G},s=n(r),d=function(o){N=!1,q=l(\"svg_bottom\",R.width,R.height),q.image(C.canvasImg[J],0,0,R.width,R.height),q.setStart();var n=0===C.elements[J].length?\"def\":J,r=C.elements[n],s=function(t,e){t.animate({fill:\"#fff\",opacity:1,easing:\"easeInOut\"},500,function(){t.animate({opacity:t.data(\"opacity\"),easing:\"easeOut\"},300)})};\"flat\"===ht.data(\"view\")?(t(\".j-logo\").removeClass(\"b-logo_color_white\"),t(\"#back-link\").addClass(\"b-back-link_color_dark\")):(t(\".j-logo\").addClass(\"b-logo_color_white\"),t(\"#back-link\").removeClass(\"b-back-link_color_dark\"));for(var d=0,c=r.length;d<c;d++){var u=r[d],f=v.getOpacity(u),h=W(u),p=tt(u),m=h[0],g=h[1],w=u.link?e.startPath+u.link:null;0!==parseInt(u.count)&&function(){var o=q.path(u.coords);o.attr({stroke:\"none\",fill:m,\"fill-opacity\":p,opacity:f,cursor:\"pointer\"}).data(\"id\",parseInt(u.id,10)||d).data(\"href\",w).data(\"tooltip\",u.tooltip).data(\"color-end\",g).data(\"color-start\",m).data(\"available\",u.available).data(\"opacity\",f).data(\"toPage\",u.toPage||\"\");var i=function(t){M(this),rt(this,!0),st(this),lt(t)},n=function(){Q(this,E),rt(this,!1),dt()};t.browser.mobile||(o.mouseover(i),o.mouseout(n)),o.click(function(){var o=this;if(!o.data(\"href\"))return!1;if(this.unmouseover(i),this.unmouseout(n),this.unmousemove(lt),dt(),$=1,t.browser.mobile?(M(this),setTimeout(function(){Q(o)},400)):Q(this),this.data(\"toPage\")||a.toPage)window.location.origin||(window.location.origin=window.location.protocol+\"//\"+window.location.hostname+(window.location.port?\":\"+window.location.port:\"\")),document.location=this.data(\"toPage\")?this.data(\"toPage\"):window.location.origin+this.data(\"href\");else{var r=e.homePath+this.data(\"href\");\"alt\"===J&&(r+=\"#alt\"),document.location.pathname===r?jt.runRoute(\"get\",r):jt.setLocation(r)}}),u.link||o.attr({cursor:\"default\"}).unclick(),o.mousemove(lt),V&&z&&setTimeout(function(){s(o)},1e3)}()}z=0,T=q.setFinish(),Y=t(\".js-floor-switch\"),dt(),X(),i&&i.apply()};return\"partial\"===a.renderType?D.swap(s,d):d()},ht=w.find(\"form\"),vt=ht.find('input[type=\"checkbox\"]'),pt=function(){var t=e.dataLocation,o=ht.serialize();return o&&(t+=t.indexOf(\"?\")>-1?\"&\":\"?\",t+=o),t},mt=function(){U&&U.abort()};vt.on(\"change\",function(){var o=pt();E=gt()&&ht.serialize().length,G=!1,v.showAjaxLoader(),mt(),U=t.getJSON(o,ht.data()),U.done(function(t){var o=ht.data(\"view\"),a={};\"flat\"===o&&(a.toPage=!0),jt.setEnvironment(t,e[o],a)})});var gt=function(){return-1===t.inArray(ht.data(\"division\"),F)},wt=function(){return\"flat\"!==ht.data(\"view\")},yt=function(t){var e=t.clone().removeAttr(\"id\").addClass(\"al-l-content_is_active\");return e.find(\".animated\").removeClass(\"animated\"),e},bt=function(){return!!L&&(L=!1,v.hideAjaxLoader(),!0)},kt=function(){L=!0;var t=jt.getLocation();t=\"alt\"===J?t+\"#alt\":t.replace(\"#alt\",\"\"),jt.setLocation(t)},jt=r(function(){var a=this,i=function(){v.hideAjaxLoader(),G=0,a.swap(o.error({message:\"Ой, что-то пошло не так\"}))};b.find(\"a\").on(\"click\",function(){mt(),G=!1,v.showAjaxLoader(),$=1,J=\"alt\"===J?\"def\":\"alt\",u(\"view_side\",J,{path:\"/\"});var o=C.videoChangePosition&&C.videoChangePosition[J].mp4&&S;t.loadImage(C.canvasImg[J]).done(function(t,a){if(o)return ct(ut(C.videoChangePosition[J]),function(){q.remove(),R.width=a.width,R.height=a.height,ft({renderType:\"partial\"})});v.hideAjaxLoader(),R.width=a.width,R.height=a.height;var i=jt.$element(),n=yt(i);i.after(n),ft({renderType:\"partial\"},function(){return d.cssanimations?void n.animatecss(\"fadeOut\",function(){n.remove()}):void n.fadeOut(e.speedAnimBetweenView,function(){n.remove()})}),kt()}).fail(i)}).on(\"mouseenter\",function(){t(this).animatecss(\"rotate\")}),a.element_selector=e.boxApp,a.notFound=function(t,o){a.setLocation(e.homePath+e.startPath)},a.swap=function(t,e){w.toggleAnimated(gt(),\"fadeInUp\",\"fadeOutDown\"),et(C.backLink,C.backText),ot(C.floors,C.viewName),b.toggleAnimated(wt(),\"fadeInLeft\",\"fadeOutLeft\"),z&&k.toggleAnimated(!0,\"fadeInRight\");var o=function(){a.$element().html(t),e&&e.apply()},i=C.videoFly&&C.videoFly[J].mp4&&!I&&S;return I=!0,i?ct(ut(C.videoFly[J]),o):G?a.smoothTransition(t,e):void o()},a.setEnvironment=function(o,a,n,r){if(n=n||{},C=null,C=o,!C.status)return void i();if(C.toStep){var s=e.homePath+C.toStep;return void jt.setLocation(s)}\"alt\"===J&&\"#alt\"!==window.location.hash&&kt(),O=a||{},n.renderType=\"partial\",v.showAjaxLoader(),t.loadImage(C.canvasImg[J]).done(function(t,e){v.hideAjaxLoader(),R.width=e.width,R.height=e.height,ft(n,r)}).fail(i)},a.smoothTransition=function(t,o){var a=jt.$element(),i=yt(a);if(!d.cssanimations)return a.html(t).after(i),\"function\"==typeof o&&o.apply(this,[t]),void i.fadeOut(e.speedAnimBetweenView,function(){i.remove()});var n=N?\"zoomOut\":\"zoomInFadeOut\";i.animatecss(n,function(){i.remove()}),a.html(t).after(i),\"function\"==typeof o&&o.apply(this,[t])};var n=e.buildings.steps;for(var r in n)!function(o){n.hasOwnProperty(o)&&a.get(\"\"+e.homePath+n[o].urlTemplate+\"(#alt)?\",function(){if(!bt()){var r=pt(),s=n[o].division,l=n[o].view,d=e.objectId;D=this,G=!0,ht.data(\"division\",s).data(\"num\",D.params[s]||\"\").data(\"view\",l).data(\"objectId\",d||\"\"),v.showAjaxLoader(),mt(),U=t.getJSON(r,{division:s,num:D.params[s]||\"\",objectId:d||\"\"},function(t,o,n){switch(s){case\"homepage\":V=z,a.setEnvironment(t,e.building,{});break;case\"building\":e.opacity=E?.5:0,e.visualStyles.startOpacity=.7,a.setEnvironment(t,e.section);break;case\"section\":a.setEnvironment(t,e.floor),_=!1;break;case\"floor\":if(!t.status)return void i();a.setEnvironment(t,e.flat,{toPage:!0});break;default:V=z,a.setEnvironment(t,e[l],{})}})}})}(r);a.setLocation=function(t,e){return v.showAjaxLoader(),I=void 0===I,this._location_proxy.setLocation(t)}});return jt});\n//# sourceMappingURL=../sourcemaps/apartments/app.js.map\n"]}