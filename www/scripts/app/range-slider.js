"use strict";function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,i){for(var n=0;n<i.length;n++){var s=i[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(i,n,s){return n&&t(i.prototype,n),s&&t(i,s),i}}();define("app/range-slider",["jquery","autoNumeric","rangeSlider"],function(){return function(){function t(i){_classCallCheck(this,t),"true"!==i.attr("data-noinit")&&(this.$wrap=i,this.isMobile=window.innerWidth<1025,this.$slider=this.$wrap.find(".j-slider"),this.$inputs=this.$wrap.find("input"),this.type=1===this.$inputs.length?"single":"double",this.options(),this.initMask(),this.bindEvents())}return _createClass(t,[{key:"options",value:function(){var t=this,i=this.$slider.data();this.min=i.min,this.max=i.max,this.from=i.from,this.to=i.to,this.values=[this.from,this.to],this.options={type:this.type,min:this.min,max:this.max,from:this.from,to:this.to,min_interval:this.mathInterval(),decorate_both:!1,prettify_enabled:!0,onChange:function(i){t.eventChange(i)},onStart:function(i){t.eventStart(i)},onFinish:function(){t.setEventInputChange()}},this.init()}},{key:"bindEvents",value:function(){var t=this;this.$inputs.on("keypress",function(i){13===i.which&&t.inputsChangesValue(i)})}},{key:"init",value:function(){this.$slider.ionRangeSlider(this.options),this.slider=this.$slider.data("ionRangeSlider")}},{key:"eventStart",value:function(){var t=this;this.$inputs.each(function(i){t.$inputs[i].value=t.digit(t.values[i])})}},{key:"eventChange",value:function(t){this.from=t.from,this.to=t.to,this.$inputs[0].value=this.digit(t.from),$(this.$inputs[0]).autoNumeric("set",t.from),this.$inputs[1]&&($(this.$inputs[1]).autoNumeric("set",t.to),this.$inputs[1].value=this.digit(t.to))}},{key:"inputsChangesValue",value:function(t){var i={},n=void 0;"undefined"!==this.$inputs[1]?(n=parseInt(this.undigit(t.target.value,10)),n<this.min?(i.from=this.min,this.$inputs[0].value=this.digit(this.min)):n>this.to?(i.from=this.to,this.$inputs[0].value=this.digit(this.to)):i.from=n,n>this.max&&(i.from=this.max,this.$inputs[0].value=this.digit(this.max))):t.target===this.$inputs[0]?(n=parseInt(this.undigit(t.target.value,10)),n<this.min?(i.from=this.min,this.$inputs[0].value=this.digit(this.min)):n>this.to-this.interval?(i.from=this.to-this.interval,this.$inputs[0].value=this.digit(this.to-this.interval)):i.from=n,this.from=i.from):(n=parseInt(this.undigit(t.target.value,10)),n>this.max?(i.to=this.max,this.$inputs[1].value=this.digit(this.max)):n<this.from+this.interval?(i.to=this.from+this.interval,this.$inputs[1].value=this.digit(this.from+this.interval)):i.to=n,this.to=i.to),this.update(i)}},{key:"update",value:function(t){this.slider.update(t)}},{key:"mathInterval",value:function(){var t=this.$slider.width(),i=this.max-this.min,n=i/t,s=this.isMobile?2.5:2;if(n>1)this.interval=Math.floor(20*s*n);else{var e=1/n;this.interval=Math.floor(20*s/e)}return this.interval}},{key:"digit",value:function(t){return String(t).replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1 ")}},{key:"undigit",value:function(t){return t.replace(/\s/g,"")}},{key:"initMask",value:function(){this.$inputs.each(function(){$(this).autoNumeric("init",{aSep:" ",mDec:0})})}},{key:"setEventInputChange",value:function(){this.$inputs.change()}}]),t}()});
//# sourceMappingURL=../sourcemaps/app/range-slider.js.map
