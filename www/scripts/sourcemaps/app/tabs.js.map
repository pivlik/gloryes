{"version":3,"sources":["app/tabs.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","define","Tabs","$tabsContainer","this","$tabs","find","$contents","active","bindEvents","value","on","stateTabs","bind","$","window","changeStateOnLoad","e","state","changeStateContents","removeClass","addClass","preventDefault","$tab","$tabId","data","$tabUrl","attr","hasClass","location","href","name","filter","history","pushState"],"mappings":"AAAA,YAIA,SAASA,iBAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAFhH,GAAIC,cAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,IAAiB,MAAO,UAAUR,EAAae,EAAYC,GAAiJ,MAA9HD,IAAYZ,EAAiBH,EAAYiB,UAAWF,GAAiBC,GAAab,EAAiBH,EAAagB,GAAqBhB,KAIhiBkB,SAAQ,UAAW,WAsGf,MA7FW,YACP,QAASC,GAAKC,GACVtB,gBAAgBuB,KAAMF,GAEtBE,KAAKC,MAAQF,EAAeG,KAAK,iBACjCF,KAAKG,UAAYJ,EAAeG,KAAK,oBACrCF,KAAKI,OAAS,YAEdJ,KAAKK,aAkFT,MA1EAxB,cAAaiB,IACTL,IAAK,aACLa,MAAO,WACHN,KAAKC,MAAMM,GAAG,QAASP,KAAKQ,UAAUC,KAAKT,OAC3CU,EAAEC,QAAQJ,GAAG,WAAYP,KAAKY,kBAAkBZ,UAGpDP,IAAK,oBAOLa,MAAO,SAA2BO,GACd,OAAZA,EAAEC,QACFd,KAAKe,oBAAoBF,EAAEC,OAC3Bd,KAAKC,MAAMe,YAAYhB,KAAKI,QAC5BM,EAAE,cAAgBG,EAAEC,MAAQ,MAAMG,SAASjB,KAAKI,YAUxDX,IAAK,YACLa,MAAO,SAAmBO,GACtBA,EAAEK,iBAEFlB,KAAKmB,KAAOT,EAAEG,EAAE9B,QAChBiB,KAAKoB,OAASpB,KAAKmB,KAAKE,KAAK,OAC7BrB,KAAKsB,QAAUtB,KAAKmB,KAAKI,KAAK,QAE1BvB,KAAKmB,KAAKK,SAAS,iBAKF,iBAAjBxB,KAAKsB,UACLG,SAASC,KAAO1B,KAAKsB,SAGpBtB,KAAKmB,KAAKK,SAASxB,KAAKI,UACzBJ,KAAKC,MAAMe,YAAYhB,KAAKI,QAC5BJ,KAAKmB,KAAKF,SAASjB,KAAKI,SAG5BJ,KAAKe,oBAAoBf,KAAKoB,YAGlC3B,IAAK,sBAOLa,MAAO,SAA6BqB,GAChC3B,KAAKG,UAAUa,YAAYhB,KAAKI,QAEhCJ,KAAKG,UAAUyB,OAAO,WAClB,MAAOlB,GAAEV,MAAMqB,KAAK,iBAAmBM,IACxCV,SAASjB,KAAKI,QAGbuB,GACAhB,OAAOkB,QAAQC,UAAUH,EAAM,KAAM,eAAiBA,OAK3D7B","file":"../../app/tabs.js","sourcesContent":["'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\ndefine(['jquery'], function () {\n    'use strict';\n\n    /**\n     * Табы\n     * @param {Object} $tabsContainer - Jquery объект, обератка всего блока\n     * @constructor\n     */\n\n    var Tabs = function () {\n        function Tabs($tabsContainer) {\n            _classCallCheck(this, Tabs);\n\n            this.$tabs = $tabsContainer.find('.b-tabs__item');\n            this.$contents = $tabsContainer.find('.b-tabs__content');\n            this.active = 'is-active';\n\n            this.bindEvents();\n        }\n\n        /**\n         * События\n         */\n\n\n        _createClass(Tabs, [{\n            key: 'bindEvents',\n            value: function bindEvents() {\n                this.$tabs.on('click', this.stateTabs.bind(this));\n                $(window).on('popstate', this.changeStateOnLoad(this));\n            }\n        }, {\n            key: 'changeStateOnLoad',\n\n\n            /**\n             * Если в url есть название таба, то открываем этот таб\n             * @param {event} e - Event\n             */\n            value: function changeStateOnLoad(e) {\n                if (e.state !== null) {\n                    this.changeStateContents(e.state);\n                    this.$tabs.removeClass(this.active);\n                    $('[data-tab=\"' + e.state + '\"]').addClass(this.active);\n                }\n            }\n\n            /**\n             * Узнаем состояние таба\n             * @param {event} e - Event\n             */\n\n        }, {\n            key: 'stateTabs',\n            value: function stateTabs(e) {\n                e.preventDefault();\n\n                this.$tab = $(e.target);\n                this.$tabId = this.$tab.data('tab');\n                this.$tabUrl = this.$tab.attr('href');\n\n                if (this.$tab.hasClass('is-disabled')) {\n                    return;\n                }\n\n                //если в href таба ссылка, то осуществляем переход\n                if (this.$tabUrl !== 'javascript:;') {\n                    location.href = this.$tabUrl;\n                }\n\n                if (!this.$tab.hasClass(this.active)) {\n                    this.$tabs.removeClass(this.active);\n                    this.$tab.addClass(this.active);\n                }\n\n                this.changeStateContents(this.$tabId);\n            }\n        }, {\n            key: 'changeStateContents',\n\n\n            /**\n             * Меняем состояние таба\n             * @param {String} name - id таба\n             */\n            value: function changeStateContents(name) {\n                this.$contents.removeClass(this.active);\n\n                this.$contents.filter(function () {\n                    return $(this).data('tab-content') === name;\n                }).addClass(this.active);\n\n                //подставляем в url название таба\n                if (name) {\n                    window.history.pushState(name, null, '?tab-active=' + name);\n                }\n            }\n        }]);\n\n        return Tabs;\n    }();\n\n    return Tabs;\n});"]}